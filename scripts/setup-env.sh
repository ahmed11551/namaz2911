#!/bin/bash
# ===========================================
# Namaz2911 - Ð¡ÐºÑ€Ð¸Ð¿Ñ‚ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ñ .env Ñ„Ð°Ð¹Ð»Ð°
# ===========================================

ENV_FILE=".env"

if [ -f "$ENV_FILE" ]; then
    echo "âš ï¸  Ð¤Ð°Ð¹Ð» .env ÑƒÐ¶Ðµ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚. ÐŸÐµÑ€ÐµÐ·Ð°Ð¿Ð¸ÑÐ°Ñ‚ÑŒ? (y/n)"
    read -r answer
    if [ "$answer" != "y" ]; then
        echo "ÐžÑ‚Ð¼ÐµÐ½ÐµÐ½Ð¾."
        exit 0
    fi
fi

cat > "$ENV_FILE" << 'EOF'
# ===========================================
# Namaz2911 - ÐŸÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ðµ Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ñ
# ===========================================

# ÐŸÐ¾Ñ€Ñ‚ Ð´Ð»Ñ Ð·Ð°Ð¿ÑƒÑÐºÐ° Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ
PORT=3000

# Supabase ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ñ
VITE_SUPABASE_URL=https://fvxkywczuqincnjilgzd.supabase.co
VITE_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZ2eGt5d2N6dXFpbmNuamlsZ3pkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIzNDgwNTYsImV4cCI6MjA3NzkyNDA1Nn0.jBvLDl0T2u-slvf4Uu4oZj7yRWMQCKmiln0mXRU0q54

# e-Replika API (Ð¸ÑÐ»Ð°Ð¼ÑÐºÐ¸Ð¹ ÐºÐ¾Ð½Ñ‚ÐµÐ½Ñ‚)
VITE_API_BASE_URL=https://bot.e-replika.ru/api

# ÐžÐ¿Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾: Ð¿Ñ€Ð¾ÐºÑÐ¸ Ñ‡ÐµÑ€ÐµÐ· Supabase Edge Functions
VITE_USE_SUPABASE_PROXY=false
EOF

echo "âœ… Ð¤Ð°Ð¹Ð» .env ÑÐ¾Ð·Ð´Ð°Ð½!"
echo "ðŸ“ ÐžÑ‚Ñ€ÐµÐ´Ð°ÐºÑ‚Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ ÐµÐ³Ð¾ Ð¿Ñ€Ð¸ Ð½ÐµÐ¾Ð±Ñ…Ð¾Ð´Ð¸Ð¼Ð¾ÑÑ‚Ð¸: nano .env"

